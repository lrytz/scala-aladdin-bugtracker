<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <p><a id="logo" href="http://scala-lang.org/"><img src="/sites/default/files/icons/Scala_Logo2008.png" alt="scala-lang.org" border=0/></a></p>
    <title id="Title">Aladdin - Scala Bugtracking</title>
        <style type="text/css">
        table {
            font-size: 10pt;
            background-color: #ebb85c;
        }
        tr.impair        { background-color: #f0be64 }
        tr.impairContrib { background-color: #f0be64 }

#buraq-content {
	float: none;
	color: black;
	background-color: white;
	font-size: 1.25em;
	margin-left: 9.6em;
}
        </style>
      </head>
  <body><!--DisplayBugsBlock_Start-->




<table WIDTH="100%" cellspacing="4" cellpadding="2">

	<tr><td></td>
		<th>[#1095]</th>
		<th><strong>project:</strong> compiler</th>
		<th><strong>priority:</strong> high</th>
		<th><strong>category:</strong> bug</th>
        </tr>

        <tr>
          <td></td>
	  <th align="center">submitter</th>
	  <th align="center">assigned to</th>
	  <th align="center">status</th>
	  <th align="center">date submitted</th>
        </tr>

        <tr>
          <td></td>
	  <td align="center" bgcolor="#FFFFFF">Sean</td>
	  <td align="center" bgcolor="#FFFFFF">Gilles</td>
	  <td align="center" bgcolor="#FFFFFF">fixed</td>
          <td align="center" bgcolor="#FFFFFF">2007-05-10 11:53:55.0</td>

	</tr>

        <tr>
		<th align="right">subject</th>
		<td colspan="4" bgcolor="#FFFFFF">build still builds library without var debug symbols!!!!</td>
	</tr>
	<tr>	
		<th align="right">code</th>
		<td colspan="4" bgcolor="#FFFFFF">
	<font size="-1"><pre></pre></font></td>
	</tr>
	<tr>
		<th style="text-align:right;">what happened</th>
		<td colspan="4" style="background-color:#FFFFFF;" ><pre>The ant 5cr1p7-haX0R builds everything with debuginfo="line", which sucks when you actually debug...anything. We can't\
 release the distribution like this.
</pre></td>
	</tr>
	<tr>
		<th align="right">what expected</th>
		<td colspan="4" bgcolor="#FFFFFF" >The build should build with "vars" by default. I keep trying to fix this in Scalac.scala, but nothing sticks, and i have no idea where my stuff is being ignored.

The legacy of having so many senseless debug options comes from javac (from 1.0) and C compilers before it. We can do better than this. So here is my suggestion:

(a) get rid of the debuginfo flag completely, always generate maximum symbols. Space isn't a good excuse for not generating symbols, and if users want obfuscation, they can use better tools for that.

If (a) is too radical, then (b) simplify the flag to on or off. I don't understand why users would want some information and not others. It sucks the way it works now, line numbers are present but variables are not.
</td>
	</tr>
	<tr>
	
  <td colspan="4" align="right">
      
      <a href="displayBugs.do.html">
        [back to overview]</a></td></tr>

</table>

  <tr>
          <td align="center" colspan="2">
            <strong>Changes of this bug report</strong>
          </td>
        </tr><table><tr>
        <td>
        <strong>Gilles&nbsp; edited on &nbsp;2007-05-10 15:40:29.0</strong>
        </td>
        </tr>
<tr><td bgcolor='#FFFFFF'>
Fixed in rev. 10987 by having the Scalac Ant task use the compiler's default settings (including “debuginfo=vars”) instead of its own.
</td></tr></table>
<!--DisplayBugsBlock_End-->  </body>
</html>