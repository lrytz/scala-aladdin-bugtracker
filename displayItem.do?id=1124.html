<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <p><a id="logo" href="http://scala-lang.org/"><img src="/sites/default/files/icons/Scala_Logo2008.png" alt="scala-lang.org" border=0/></a></p>
    <title id="Title">Aladdin - Scala Bugtracking</title>
        <style type="text/css">
        table {
            font-size: 10pt;
            background-color: #ebb85c;
        }
        tr.impair        { background-color: #f0be64 }
        tr.impairContrib { background-color: #f0be64 }

#buraq-content {
	float: none;
	color: black;
	background-color: white;
	font-size: 1.25em;
	margin-left: 9.6em;
}
        </style>
      </head>
  <body><!--DisplayBugsBlock_Start-->




<table WIDTH="100%" cellspacing="4" cellpadding="2">

	<tr><td></td>
		<th>[#1124]</th>
		<th><strong>project:</strong> scala-doc</th>
		<th><strong>priority:</strong> low</th>
		<th><strong>category:</strong> bug</th>
        </tr>

        <tr>
          <td></td>
	  <th align="center">submitter</th>
	  <th align="center">assigned to</th>
	  <th align="center">status</th>
	  <th align="center">date submitted</th>
        </tr>

        <tr>
          <td></td>
	  <td align="center" bgcolor="#FFFFFF">Nikolay</td>
	  <td align="center" bgcolor="#FFFFFF">Sean</td>
	  <td align="center" bgcolor="#FFFFFF">open</td>
          <td align="center" bgcolor="#FFFFFF">2007-05-21 13:24:35.0</td>

	</tr>

        <tr>
		<th align="right">subject</th>
		<td colspan="4" bgcolor="#FFFFFF">[contrib #514] Exception when documenting classes using early initialisation</td>
	</tr>
	<tr>	
		<th align="right">code</th>
		<td colspan="4" bgcolor="#FFFFFF">
	<font size="-1"><pre>Running scaladoc on the following code... :

class A {}

/** Documentation...
 */
class B extends {

  val v = &quot;foo&quot;

} with A


... gives the following error:

Exception in thread &quot;main&quot; java.lang.Error: no-symbol does not have owner
        at scala.tools.nsc.symtab.Symbols$NoSymbol$.owner(Symbols.scala:1340)
        at scala.tools.nsc.typechecker.Namers$Namer.applicableTypeParams(Namers.scala:231)
        at scala.tools.nsc.typechecker.Namers$Namer.deSkolemize(Namers.scala:233)
        at scala.tools.nsc.typechecker.Namers$Namer.typeSig(Namers.scala:740)
        at scala.tools.nsc.typechecker.Namers$Namer$$anon$0.complete(Namers.scala:356)
        at scala.tools.nsc.symtab.Symbols$Symbol.info(Symbols.scala:417)
        at scala.tools.nsc.symtab.Symbols$Symbol.initialize(Symbols.scala:525)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:2404)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:2648)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:2681)
        at scala.tools.nsc.typechecker.Typers$Typer.typedStat$0(Typers.scala:1396)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$58.apply(Typers.scala:1426)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$58.apply(Typers.scala:1426)
        at scala.List$.loop$0(List.scala:243)
        at scala.List$.mapConserve(List.scala:260)
        at scala.tools.nsc.typechecker.Typers$Typer.typedStats(Typers.scala:1426)
        at scala.tools.nsc.typechecker.Typers$Typer.typedBlock(Typers.scala:1254)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:2443)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:2648)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:2681)
        at scala.tools.nsc.typechecker.Typers$Typer.typePrimaryConstrBody(Typers.scala:772)
        at scala.tools.nsc.typechecker.Typers$Typer.parentTypes(Typers.scala:829)
        at scala.tools.nsc.typechecker.Typers$Typer.typedClassDef(Typers.scala:946)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:2413)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:2648)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:2434)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:2648)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:2681)
        at scala.tools.nsc.typechecker.Typers$Typer.typedStat$0(Typers.scala:1396)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$58.apply(Typers.scala:1426)
        at scala.tools.nsc.typechecker.Typers$Typer$$anonfun$58.apply(Typers.scala:1426)
        at scala.List$.loop$0(List.scala:243)
        at scala.List$.mapConserve(List.scala:260)
        at scala.List$.loop$0(List.scala:247)
        at scala.List$.mapConserve(List.scala:260)
        at scala.tools.nsc.typechecker.Typers$Typer.typedStats(Typers.scala:1426)
        at scala.tools.nsc.typechecker.Typers$Typer.typed1(Typers.scala:2409)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:2648)
        at scala.tools.nsc.typechecker.Typers$Typer.typed(Typers.scala:2681)
        at scala.tools.nsc.typechecker.Analyzer$typerFactory$$anon$1.apply(Analyzer.scala:38)
        at scala.tools.nsc.Global$GlobalPhase.applyPhase(Global.scala:241)
        at scala.tools.nsc.Global$GlobalPhase$$anonfun$2.apply(Global.scala:230)
        at scala.tools.nsc.Global$GlobalPhase$$anonfun$2.apply(Global.scala:230)
        at scala.Iterator$class.foreach(Iterator.scala:369)
        at scala.collection.mutable.ListBuffer$$anon$0.foreach(ListBuffer.scala:245)
        at scala.tools.nsc.Global$GlobalPhase.run(Global.scala:230)
        at scala.tools.nsc.Global$Run.compileSources(Global.scala:498)
        at scala.tools.nsc.Global$Run.compile(Global.scala:572)
        at scala.tools.nsc.Main$.process(Main.scala:57)
        at scala.tools.nsc.Main$.main(Main.scala:77)
        at scala.tools.nsc.Main.main(Main.scala)
</pre></font></td>
	</tr>
	<tr>
		<th style="text-align:right;">what happened</th>
		<td colspan="4" style="background-color:#FFFFFF;" ><pre>scaladoc crashed with java.lang.Error exception
</pre></td>
	</tr>
	<tr>
		<th align="right">what expected</th>
		<td colspan="4" bgcolor="#FFFFFF" >Succesful scaladoc generation</td>
	</tr>
	<tr>
	
  <td colspan="4" align="right">
      
      <a href="displayBugs.do.html">
        [back to overview]</a></td></tr>

</table>

  <tr>
          <td align="center" colspan="2">
            <strong>Changes of this bug report</strong>
          </td>
        </tr><table><tr>
        <td>
        <strong>Nikolay&nbsp; edited on &nbsp;2007-05-21 13:27:11.0</strong>
        </td>
        </tr>
<tr><td bgcolor='#FFFFFF'>
I don't know what's specific about scaladoc - scalac works fine - but I assigned it Martin because there's nothing scaladoc-ish in the stack trace
</td></tr>
<tr>
        <td>
        <strong>Sean&nbsp; edited on &nbsp;2007-05-21 14:08:44.0</strong>
        </td>
        </tr>
<tr><td bgcolor='#FFFFFF'>
Crashes the presentation compiler but does not crash the build compiler. That would explain why ScalaDoc is affected, as it runs in the onlyPresentation mode. Could this occur because not all the phases are being run?


</td></tr>
<tr>
        <td>
        <strong>Sean&nbsp; edited on &nbsp;2007-05-21 14:18:42.0</strong>
        </td>
        </tr>
<tr><td bgcolor='#FFFFFF'>
Just updated to the new trunk and it doesn't seem to crash anymore. Already fixed.
</td></tr>
<tr>
        <td>
        <strong>Sean&nbsp; edited on &nbsp;2007-05-27 09:48:48.0</strong>
        </td>
        </tr>
<tr><td bgcolor='#FFFFFF'>
Users are complaining that they bug is not fixed. Strange, I'll look into it.
</td></tr>
<tr>
        <td>
        <strong>Martin&nbsp; edited on &nbsp;2007-05-28 15:39:09.0</strong>
        </td>
        </tr>
<tr><td bgcolor='#FFFFFF'>
I compiled in the presentation compiler but did not see a crash. Reassigned to Sean.

 -- Martin

</td></tr></table>
<!--DisplayBugsBlock_End-->  </body>
</html>